name: ğŸ” PR Check

# Lefthook configuration
# https://lefthook.dev/configuration/
# Git hooks ã‚’è‡ªå‹•åŒ–ã—ã¦ã€Œã‚³ãƒŸãƒƒãƒˆæ™‚ã€ã€Œãƒ—ãƒƒã‚·ãƒ¥æ™‚ã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å¼·åˆ¶ã™ã‚‹è¨­å®šã€‚

# pre-commit ãƒ•ãƒƒã‚¯ã¯ `git commit` ã®ç›´å‰ã«èµ°ã‚‹ã€‚è»½é‡ãªé™çš„ãƒã‚§ãƒƒã‚¯ä¸­å¿ƒã€‚
pre-commit:
  parallel: true # å„ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã‚³ãƒŸãƒƒãƒˆå‰ã®å¾…ã¡æ™‚é–“ã‚’çŸ­ç¸®ã€‚
  commands:
    lint:
      run: npm run lint
    format:
      # oxfmt ã§è‡ªå‹•æ•´å½¢ã€‚stage_fixed ã«ã‚ˆã‚Šæ•´å½¢å¾Œã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†åº¦ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã™ã‚‹ã€‚
      name: Format with oxfmt
      glob: "*.{ts,tsx,js,jsx}"
      run: npx oxfmt {staged_files}
      stage_fixed: true

# pre-push ãƒ•ãƒƒã‚¯ã¯ `git push` ã®ç›´å‰ã«èµ°ã‚‹ã€‚é‡ã‚ã®ãƒã‚§ãƒƒã‚¯ã‚’ã“ã“ã§å®Ÿæ–½ã€‚
pre-push:
  parallel: true # push ã‚‚ä¸¦åˆ—åŒ–ã—ã¦æ™‚é–“ã‚’ç¯€ç´„ã€‚
  commands:
    typecheck:
      # TypeScript ã®å‹æ¤œè¨¼ã‚’å®Ÿè¡Œã—ã€CI ã¾ã§åˆ°é”ã™ã‚‹å‰ã«å‹å´©ã‚Œã‚’æ¤œå‡ºã€‚
      name: Type Check
      run: npm run typecheck
      
    lint-all:
      # ãƒªãƒã‚¸ãƒˆãƒªå…¨ä½“ã« lint ã‚’èµ°ã‚‰ã›ã€ã‚³ãƒŸãƒƒãƒˆå¯¾è±¡å¤–ã®å´©ã‚Œã‚‚ push å‰ã«å¯ŸçŸ¥ã€‚
      name: Lint All Files
      run: npm run lint
